version: '3'
services:
  prometheus:
    container_name: prometheus
    image: prom/prometheus:v2.0.0
    volumes:
      - /home/ubuntu/prometheus.yml:/etc/prometheus/prometheus.yml
    ports:
      - 9090:9090
    networks:
      - my_network
  cloudwatch-exporter-ec2:
    image: mizzy/technofy-cloudwatch-exporter:latest
    container_name: cloudwatch-exporter-ec2
    ports:
      - 9042:9042
    volumes:
      - /home/ubuntu/exporter_cloudwatch_ec2.yml:/etc/cloudwatch_exporter/config.yml
    networks:
      - my_network
  cloudwatch-exporter-elb:
    image: mizzy/technofy-cloudwatch-exporter:latest
    container_name: cloudwatch-exporter-elb
    ports:
      - 9043:9042
    volumes:
      - /home/ubuntu/exporter_cloudwatch_elb.yml:/etc/cloudwatch_exporter/config.yml
    networks:
      - my_network
  cloudwatch-exporter-ecs:
    image: mizzy/technofy-cloudwatch-exporter:latest
    container_name: cloudwatch-exporter-ecs
    ports:
      - 9044:9042
    volumes:
      - /home/ubuntu/exporter_cloudwatch_ecs.yml:/etc/cloudwatch_exporter/config.yml
    networks:
      - my_network
 # grafana:
 #   container_name: grafana
 #   image: grafana/grafana:4.6.2
 #   ports:
 #     - 3000:3000
 #   networks:
 #     - my_network

networks:
  my_network:
    driver: bridge
